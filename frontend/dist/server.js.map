{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/server/mainPage.js","webpack:///./src/server/renderRoute.js","webpack:///./src/server/server.js","webpack:///./src/shared/app/app.jsx","webpack:///./src/shared/app/categories.jsx","webpack:///./src/shared/app/countdown.jsx","webpack:///./src/shared/app/landing.jsx","webpack:///./src/shared/app/login.jsx","webpack:///./src/shared/app/navbar.jsx","webpack:///./src/shared/app/private-route.jsx","webpack:///./src/shared/app/product-card.jsx","webpack:///./src/shared/app/product.jsx","webpack:///./src/shared/app/profile.jsx","webpack:///./src/shared/app/redirect-w-status.jsx","webpack:///./src/shared/app/redux/actions/alert.js","webpack:///./src/shared/app/redux/actions/categories.js","webpack:///./src/shared/app/redux/actions/product.js","webpack:///./src/shared/app/redux/actions/products.js","webpack:///./src/shared/app/redux/actions/query.js","webpack:///./src/shared/app/redux/actions/user.js","webpack:///./src/shared/app/redux/actions/userProducts.js","webpack:///./src/shared/app/redux/constants/index.js","webpack:///./src/shared/app/redux/middleware/thunk.js","webpack:///./src/shared/app/redux/reducers/alert.js","webpack:///./src/shared/app/redux/reducers/categories.js","webpack:///./src/shared/app/redux/reducers/combine.js","webpack:///./src/shared/app/redux/reducers/product.js","webpack:///./src/shared/app/redux/reducers/products.js","webpack:///./src/shared/app/redux/reducers/query.js","webpack:///./src/shared/app/redux/reducers/user.js","webpack:///./src/shared/app/redux/reducers/userProducts.js","webpack:///./src/shared/app/register.jsx","webpack:///./src/shared/app/slider.jsx","webpack:///./src/shared/app/user-products.jsx","webpack:///./src/shared/helpers/buildUrl.js","webpack:///./src/shared/helpers/search.js","webpack:///./src/shared/logic/index.js","webpack:///./src/shared/routes/routes.js","webpack:///external \"api\"","webpack:///external \"express\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-helmet\"","webpack:///external \"react-nouislider\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-slick\"","webpack:///external \"redux\"","webpack:///external \"socket.io-client\""],"names":["renderFullPage","html","preloadedState","helmet","Object","keys","length","title","toString","meta","link","JSON","stringify","replace","renderRoute","req","res","store","reducers","thunk","foundPath","routeBank","routes","find","path","exact","url","strict","component","fetchData","Promise","resolve","params","getState","context","ReactDOM","renderToString","helmetData","renderStatic","redirect","status","headers","host","send","error","app","use","express","static","get","renderRouteMiddleware","port","process","env","PORT","listen","console","log","App","prevProps","props","location","clear","auctionApi","token","localStorage","setItem","getItem","logic","user","removeItem","parse","routeOptions","map","i","Math","random","privateRoutes","redirects","from","to","Component","mapStateToProps","state","alert","mapDispatchToProps","dispatch","alertActions","withRef","categoryActions","productsActions","Categories","handleCheck","e","target","id","checked","getCategories","URLSearchParams","search","categories","split","forEach","category","_id","name","categoriesActions","getCategory","query","Countdown","days","hours","min","sec","interval","setInterval","date","calculateCountdown","setState","stop","endDate","diff","Date","timeLeft","years","floor","clearInterval","value","String","countDown","addLeadingZeros","propTypes","PropTypes","string","isRequired","defaultProps","actions","socket","Landing","componentWillUnmount","close","handleSubmit","history","push","handleClear","prices","Number","price","getProducts","on","productId","products","product","Login","handleChange","preventDefault","submitted","username","password","login","logout","loggingIn","message","type","userActions","queryActions","NavBar","setQuery","handleHomeLink","retrieveUser","PrivateRoute","rest","pathname","ProductCard","onProductClickHandler","sd","startDate","setDate","getDate","closed","winningUser","currentUser","now","images","renderProductInfo","currentPrice","Product","bid","priceClass","bidClass","slickImg","slickImgs","nav1","nav2","componentDidMount","match","getProduct","then","setTimeout","slider1","slider2","componentDidUpdate","round","addProductBid","settingsImgs","slidesToShow","slidesToScroll","arrows","centerMode","focusOnSelect","centerPadding","vertical","asNavFor","ref","slider","settingsImg","infinite","speed","dots","fade","image","index","description","Profile","surname","email","RedirectWithStatus","key","staticContext","success","alertConstants","SUCCESS","ERROR","CLEAR","_categories","listCategories","Types","UPDATE_CATEGORIES","data","retrieveProduct","UPDATE_PRODUCT","payload","userId","ADD_PRODUCT_BID","listProducts","UPDATE_PRODUCTS","UPDATE_QUERY","register","UPDATE_USER","catch","getUserProducts","listUserProducts","UPDATE_USER_PRODUCTS","UPDATE_NAME","customMiddleware","isFunction","action","next","initialState","userProducts","Register","repeatpassword","Slider","range","priceMin","priceMax","max","values","UserProducts","parameters","qs","encodeURIComponent","substring","cat","filter","q","c","join","p","require","_user","authenticateUser","reject","registerUser","module","exports"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/server.js\");\n","export default function renderFullPage(html, preloadedState, helmet) {\n\treturn `\n    <!doctype html>\n    <html>\n      <head>\n\t\t<link rel=\"icon\" href=\"/dist/favicon.ico\" type=\"image/ico\" />\n\t\t\n\t\t<!-- Google font -->\n\t\t<link href=\"https://fonts.googleapis.com/css?family=Montserrat:400,500,700\" rel=\"stylesheet\">  \n\t  \n\t\t<!-- Bootstrap -->\n\t\t<link type=\"text/css\" rel=\"stylesheet\" href=\"/dist/assets/styles/bootstrap.min.css\"/>\n\t\t\n\t\t<!-- Slick -->\n\t\t<link type=\"text/css\" rel=\"stylesheet\" href=\"/dist/assets/styles/slick.css\"/>\n\t\t<link type=\"text/css\" rel=\"stylesheet\" href=\"/dist/assets/styles/slick-theme.css\"/>\n\t  \n\t\t<!-- nouislider -->\n\t\t<link type=\"text/css\" rel=\"stylesheet\" href=\"/dist/assets/styles/nouislider.min.css\"/>\n\t  \n\t\t<!-- Font Awesome Icon -->\n\t\t<link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.0.13/css/all.css\" integrity=\"sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp\" crossorigin=\"anonymous\">\n\t\t\n\t\t<!-- Animate.css stlylesheet -->\n\t\t<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css\">\n\t  \n\t\t<!-- Custom stlylesheet -->\n\t\t<link rel=\"stylesheet\" href=\"/dist/assets/styles/style.css\"/>\n\n        ${Object.keys(helmet).length ? helmet.title.toString() : ''}\n        ${Object.keys(helmet).length ? helmet.meta.toString() : ''}\n\t\t${Object.keys(helmet).length ? helmet.link.toString() : ''}\n\t\t\n      </head>\n\t  <body>\n\t\t<div id=\"root\">${html}</div>\n\t\t\n        <script>\n\t\t\twindow.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(/</g, '\\\\u003c')}\n\t\t</script>\n\t\t\n\t\t<script src=\"/dist/assets/app.bundle.js\"></script>\n\t\t\n\t\t<script src=\"/dist/assets/js/jquery.min.js\"></script>\n\t\t<script src=\"/dist/assets/js/bootstrap.min.js\"></script>\n\t\t<script src=\"/dist/assets/js/nouislider.min.js\"></script>\n\t\t\n      </body>\n    </html>\n    `\n}","import { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { StaticRouter as Router, matchPath } from 'react-router';\nimport React from 'react';\nimport ReactDOM from 'react-dom/server';\nimport helmet from 'react-helmet';\nimport App from '../shared/app/app.jsx';\nimport reducers from '../shared/app/redux/reducers/combine';\nimport thunk from '../shared/app/redux/middleware/thunk';\nimport routeBank from '../shared/routes/routes';\nimport renderFullPage from './mainPage'\n\nexport default async function renderRoute(req, res) {\n\ttry {\n\t\t// create a new redux store on each request\n\t\tconst store = createStore(reducers, {}, applyMiddleware(thunk));\n\t\tlet foundPath = null;\n\t\t// match request url to our React Router paths and grab component\n\t\tlet { component } = routeBank.routes.find(\n\t\t\t({ path, exact }) => {\n\t\t\t\tfoundPath = matchPath(req.url,\n\t\t\t\t\t{\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\texact,\n\t\t\t\t\t\tstrict: false\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\treturn foundPath;\n\t\t\t}) || {};\n\n\t\t// safety check for valid component, if no component we initialize an empty shell\n\t\tif (!component)\n\t\t\tcomponent = {};\n\t\t\t\n\t\t// safety check for fetchData function, if no function we give it an empty promise\n\t\tif (!component.fetchData)\n\t\t\tcomponent.fetchData = () => new Promise(resolve => resolve());\n\t\t// our isomorphic application grabbing async data\n\t\tawait component.fetchData({ store, params: (foundPath ? foundPath.params : {}) });\n\t\t// get store state (js object of entire store)\n\t\tlet preloadedState = store.getState();\n\t\t// context is used by react router, empty by default\n\t\tlet context = {};\n\t\tconst html = ReactDOM.renderToString(\n\t\t\t<Provider store={store}>\n\t\t\t\t<Router context={context} location={req.url}>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</Provider>\n\t\t)\n\t\t// render helmet data aka meta data in <head></head>\n\t\tconst helmetData = helmet.renderStatic();\n\t\t// check context for url, if url exists then react router has ran into a redirect\n\t\tif (context.url)\n\t\t\t// process redirect through express by redirecting\n\t\t\tres.redirect(context.status, 'http://' + req.headers.host + context.url);\n\t\telse if (foundPath && foundPath.path == '/404')\n\t\t\t// if 404 then send our custom 404 page with initial state and meta data, this is needed for status code 404\n\t\t\tres.status(404).send(renderFullPage(html, preloadedState, helmetData))\n\t\telse\n\t\t\t// else send down page with initial state and meta data\n\t\t\tres.send(renderFullPage(html, preloadedState, helmetData))\n\t} catch (error) {\n\t\tres.status(400).send(renderFullPage('', {}, {}));\n\t}\n}","import express from 'express';\nimport renderRouteMiddleware from './renderRoute'\n\n// Configuration ===============================================================\nconst app = express();\napp.use('/dist', express.static('./dist'))\n\napp.get('*', renderRouteMiddleware)\n\nconst port = process.env.PORT || 9000;\n\n// Launch ======================================================================\n// Starts the Express server on port 9000 and logs that it has started\napp.listen(port, function () {\n\tconsole.log(`Express server started at: http://localhost:${port}/`); // eslint-disable-line no-console\n});","import React, { Component } from 'react'\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport RedirectWithStatus from './redirect-w-status.jsx'\nimport Navbar from './navbar.jsx'\nimport routeOptions from '../routes/routes'\nimport PrivateRoute from './private-route.jsx'\nimport auctionApi from 'api'\nimport logic from '../logic'\nimport { alertActions } from './redux/actions/alert'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nclass App extends Component {\n\n    componentDidUpdate(prevProps){\n        if(this.props.location !== prevProps.location){\n            this.props.clear() //Clear alerts\n        }\n    }\n\n    render() {\n\n        auctionApi.token = token => {\n            if (token) {\n                localStorage.setItem('token', token)\n                return\n            }\n\n            return localStorage.getItem('token')\n        }\n\n        logic.user = user => {\n            if (typeof user !== 'undefined') {\n                if (user === null) localStorage.removeItem('user')\n                else localStorage.setItem('user', JSON.stringify(user))\n\n                return\n            }\n            return JSON.parse(localStorage.getItem('user'))\n        }\n\n        let routes = routeOptions.routes.map(({ path, component, exact }, i) =>\n            <Route key={Math.random() + 'ROUTE_'} exact={exact} path={path} component={component} />\n        );\n        let privateRoutes = routeOptions.privateRoutes.map(({ path, component, exact }, i) =>\n            <PrivateRoute key={Math.random() + 'PRIVATEROUTE_'} exact={exact} path={path} component={component} />\n        );\n        let redirects = routeOptions.redirects.map(({ from, to, status }, i) =>\n            <RedirectWithStatus key={Math.random() + 'REDIRECT_'} from={from} to={to} status={status} />\n        );\n\n        return (\n            <div>\n                <Navbar />\n                <Switch>\n                    {routes}\n                    {privateRoutes}\n                    {redirects}\n                </Switch>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { alert } = state;\n    return {\n        alert\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(alertActions, dispatch)\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(App))","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { withRouter } from 'react-router-dom'\nimport * as categoryActions from './redux/actions/categories'\nimport * as productsActions from './redux/actions/products'\n\nclass Categories extends Component {\n    static fetchData({ store }) {\n        return store.dispatch(categoriesActions.getCategory())\n    }\n\n    componentDidMount() {\n        const params = new URLSearchParams(this.props.location.search)\n        const categories = params.get('c') ? params.get('c').split(',') : []\n\n        categories.length && categories.forEach(category => localStorage.setItem(category, true))\n\n        this.props.getCategories()\n    }\n\n    handleCheck = e => {\n        localStorage.setItem(e.target.id, e.target.checked)\n        this.props.getCategories()\n    }\n\n    render() {\n        const { categories } = this.props\n        return (\n\n            <div className=\"aside\">\n                <h3 className=\"aside-title\">Categories</h3>\n                <div className=\"checkbox-filter\">\n                    \n                    {categories.length && categories.map((category) => {\n                        return (\n\n                        <div key={category._id} className=\"input-checkbox\">\n                            <input type=\"checkbox\" id={category._id} checked={category.checked} onChange={this.handleCheck}/>\n                            <label htmlFor={category._id}>\n                                <span></span>\n                                {category.name}\n                            </label>\n                        </div>\n                        \n                        )\n                    })}\n\n                </div>\n            </div>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { categories, query } = state\n    return { categories, query  }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({ ...categoryActions, ...productsActions }, dispatch);\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Categories))","import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\n\n\nclass Countdown extends Component {\n\n\tstate = {\n\t\tdays: 0,\n\t\thours: 0,\n\t\tmin: 0,\n\t\tsec: 0,\n\t}\n\n\tcomponentDidMount() {\n\t\t// update every second\n\t\tthis.interval = setInterval(() => {\n\t\t\tconst date = this.calculateCountdown(this.props.date);\n\t\t\tdate ? this.setState(date) : this.stop();\n\t\t}, 1000);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.stop();\n\t}\n\n\tcalculateCountdown(endDate) {\n\t\tlet diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000;\n\n\t\t// clear countdown when date is reached\n\t\tif (diff <= 0) return false;\n\n\t\tconst timeLeft = {\n\t\t\tyears: 0,\n\t\t\tdays: 0,\n\t\t\thours: 0,\n\t\t\tmin: 0,\n\t\t\tsec: 0\n\t\t};\n\n\t\t// calculate time difference between now and expected date\n\t\tif (diff >= (365.25 * 86400)) { // 365.25 * 24 * 60 * 60\n\t\t\ttimeLeft.years = Math.floor(diff / (365.25 * 86400));\n\t\t\tdiff -= timeLeft.years * 365.25 * 86400;\n\t\t}\n\t\tif (diff >= 86400) { // 24 * 60 * 60\n\t\t\ttimeLeft.days = Math.floor(diff / 86400);\n\t\t\tdiff -= timeLeft.days * 86400;\n\t\t}\n\t\tif (diff >= 3600) { // 60 * 60\n\t\t\ttimeLeft.hours = Math.floor(diff / 3600);\n\t\t\tdiff -= timeLeft.hours * 3600;\n\t\t}\n\t\tif (diff >= 60) {\n\t\t\ttimeLeft.min = Math.floor(diff / 60);\n\t\t\tdiff -= timeLeft.min * 60;\n\t\t}\n\t\ttimeLeft.sec = diff;\n\n\t\treturn timeLeft;\n\t}\n\n\tstop() {\n\t\tclearInterval(this.interval);\n\t}\n\n\taddLeadingZeros(value) {\n\t\tvalue = String(value);\n\t\twhile (value.length < 2) {\n\t\t\tvalue = '0' + value;\n\t\t}\n\t\treturn value;\n\t}\n\n\trender() {\n\t\tconst countDown = this.state;\n\t\treturn (countDown.days + countDown.hours + countDown.min + countDown.sec) ? (\n\t\t\t<span className=\"sale\">\n\t\t\t\t<span className=\"countdown-col\">\n\t\t\t\t\t<span className=\"countdown-col-element\">\n\t\t\t\t\t\t\t<strong>{this.addLeadingZeros(countDown.days)}d </strong>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\n\t\t\t\t<span className=\"countdown-col\">\n\t\t\t\t\t<span className=\"countdown-col-element\">\n\t\t\t\t\t\t<strong>{this.addLeadingZeros(countDown.hours)}</strong>\n\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\n\n\t\t\t\t<span className=\"countdown-col\">\n\t\t\t\t\t<span className=\"countdown-col-element\">\n\t\t\t\t\t\t<strong>{this.addLeadingZeros(countDown.min)}</strong>\n\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\n\t\t\t\t<span className=\"countdown-col\">\n\t\t\t\t\t<span className=\"countdown-col-element\">\n\t\t\t\t\t\t<strong>{this.addLeadingZeros(countDown.sec)}</strong>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t) : <span className=\"sale-hidden\"></span>\n\t}\n}\n\nCountdown.propTypes = {\n\tdate: PropTypes.string.isRequired\n};\n\nCountdown.defaultProps = {\n\tdate: new Date()\n};\n\nexport default Countdown;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from './redux/actions/products'\nimport openSocket from 'socket.io-client'\nimport { Helmet } from 'react-helmet';\n\nimport ProductCard from './product-card.jsx'\nimport Categories from './categories.jsx'\nimport Slider from './slider.jsx';\n\nimport { search } from '../helpers/search'\n\nvar socket\n\nclass Landing extends Component {\n\n    static fetchData({ store }) {\n        return store.dispatch(actions.getProducts('', [] , []))\n    }\n    \n    componentDidMount() {\n        const params = new URLSearchParams(this.props.location.search)\n        const query = params.get('q') || ''\n        const categories = params.get('c') ? params.get('c').split(',') : []\n        const prices = params.get('p') ? params.get('p').split(',').map(price => Number(price)) : [] \n\n        this.props.getProducts(query, categories , prices)\n\n\n        //socket = openSocket('http://localhost:5000')\n        socket = openSocket('https://mysterious-basin-61944.herokuapp.com/')\n\n        socket.on('newBid', (productId) => {\n            //TODO: Check if product is in the list\n            this.props.getProducts(query, categories , prices)\n        })\n\n    }\n\n    componentWillUnmount = () => {\n        socket.close()\n    }\n\n    handleSubmit = () => {\n\n        const { query, categories } = this.props\n\n        const url = search(query, categories)\n\t\tthis.props.history.push(url)\n    }\n\n    handleClear = () => {\n\n        const { categories } = this.props\n        categories.forEach(category => {\n            localStorage.removeItem(category._id)\n        })\n        localStorage.removeItem('priceMin')\n        localStorage.removeItem('priceMax')\n\n        this.props.history.push('/')\n\n    }\n\n    render() {\n    const { products } = this.props\n    return (\n        <div>\n            <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>HotAuctions - Landing</title>\n            </Helmet>\n            {/* --- SECTION --- */}\n            <section className=\"section\">\n                <div className=\"container\">\n                    <div className=\"row\"> \n                    \n                        {/* --- ASIDE --- */}\n                        <aside id=\"aside\" className=\"col-md-3\">\n                            <Categories />\n                            <Slider />\n                            <div className=\"filter-buttons\">\n                                <button className=\"filter-btn apply\" onClick={this.handleSubmit}>Apply</button>\n                                <button className=\"filter-btn clear\" onClick={this.handleClear}>Clear</button>\n                            </div>\n                        </aside>\n\n                        {/* --- STORE --- */}\n                        <div id=\"store\" className=\"col-md-9\">\n                            <div className=\"row\">\n                                { products.length ? products.map((product) => {\n                                    return <ProductCard key={product._id} product={product} />\n                                }): <span>We couldn't find any products</span>}\n                            </div>\n                        </div>\n                    \n                    </div>\n                </div>\n            </section>\n        </div>\n    )}\n}\n\nfunction mapStateToProps(state) {\n    const { products, query, categories } = state\n    return { products, query, categories }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Landing)","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { userActions } from './redux/actions/user'\nimport { Helmet } from 'react-helmet';\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n\n        // reset login status\n        this.props.logout()\n\n        this.state = {\n            username: '',\n            password: '',\n            submitted: false\n        };\n\n    }\n\n    handleChange = e => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        this.setState({ submitted: true });\n        const { username, password } = this.state;\n        if (username && password) {\n            this.props.login(username, password, this.props.history)\n        }\n    }\n\n    render() {\n        const { loggingIn, alert } = this.props;\n        const { username, password, submitted } = this.state;\n        return (\n\n            <div>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>login</title>\n                </Helmet>\n\n\t\t        <div className=\"section\">\n\n                    <div className=\"container\">\n\n                        <div className=\"row\">\n\n                            {alert && alert.message &&\n                                <div className={`alert ${alert.type}`}>{alert.message}</div>\n                            }\n\n                            <div className=\"col-md-6 col-md-offset-3\">\n\n                                <div className=\"section-title\">\n                                    <h3 className=\"title\">Login</h3>\n                                </div>\n\n                                <form name=\"form\" onSubmit={this.handleSubmit}>\n                                    <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\n                                        <input type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"Email\" value={username} onChange={this.handleChange} />\n                                        {submitted && !username &&\n                                            <div className=\"help-block\">Username is required</div>\n                                        }\n                                    </div>\n                                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n                                        <input type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} />\n                                        {submitted && !password &&\n                                            <div className=\"help-block\">Password is required</div>\n                                        }\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <button className=\"primary-btn\">Login</button>\n                                        {loggingIn &&\n                                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                        }\n                                        <Link to=\"/register\" className=\"btn btn-link\">Register</Link>\n                                    </div>\n                                </form>\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n            </div>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { user: { loggingIn } , alert } = state\n    return { loggingIn, alert }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(userActions, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Login)","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { withRouter } from 'react-router-dom'\n\nimport { userActions } from './redux/actions/user'\nimport * as productsActions from './redux/actions/products'\nimport * as queryActions from './redux/actions/query'\n\nimport { search } from '../helpers/search'\n\nclass NavBar extends Component {\n    static fetchData() {\n\t\t\n\t}\n\n\tstate = {\n        query: '',\n    }\n\t\n\tcomponentDidMount() {\n\t\tconst params = new URLSearchParams(this.props.location.search)\n\t\tconst query = params.get('q') || ''\n\n\t\tthis.query !== query && this.setState({ query })\n\t\tthis.props.retrieveUser()\n\t}\n\t\n\thandleChange = e => {\n\t\tconst { name, value } = e.target\n\t\tthis.setState({ [name]: value })\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst { query } = this.state\n\t\tthis.props.setQuery(query)\n\t\t\n\t\tconst url = search(query, this.props.categories)\n\t\tthis.props.history.push(url)\t\n\t}\n\n\thandleHomeLink = e => {\n\t\te.preventDefault();\n\n\t\tthis.setState({ query: '' })\n\t\tthis.props.setQuery('')\n\t\tthis.props.history.push('/')\n\t}\n\n    render() {\n\t\tconst { user } = this.props\n        return (\n        <div>\n        <header>\n\n\t\t\t{/* <!-- TOP HEADER --> */}\n\t\t\t<div id=\"top-header\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<ul className=\"header-links pull-left\">\n\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fas fa-phone\"></i> +021-95-51-84</a></li>\n\t\t\t\t\t\t<li><a href=\"#\"><i className=\"far fa-envelope\"></i> email@email.com</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul className=\"header-links pull-right\">\n\t\t\t\t\t\t<li> \n\t\t\t\t\t\t\t<Link to='/profile'><i className=\"far fa-user\"></i> { Object.keys(user).length ? 'My Account' : 'Sign in  ' } </Link> \n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* <!-- MAIN HEADER --> */}\n\t\t\t<div id=\"header\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{/* <!-- LOGO --> */}\n\t\t\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t\t\t<div className=\"header-logo\">\n\t\t\t\t\t\t\t\t<Link to='/' onClick={this.handleHomeLink} >HotAuctions</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* -- SEARCH BAR -- */}\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t<div className=\"header-search\">\n\t\t\t\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t\t\t<input className=\"input\" placeholder=\"Search here\" name='query' value={this.state.query} onChange={this.handleChange}/>\n\t\t\t\t\t\t\t\t\t<button className=\"search-btn\">Search</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* -- ACCOUNT -- */}\n\t\t\t\t\t\t<div className=\"col-md-3 clearfix\">\n\t\t\t\t\t\t\t<div className=\"header-ctn\">\n\t\t\t\t\t\t\t\t{/* -- Wishlist -- */}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link to='/user/products'>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-gavel\"></i>\n\t\t\t\t\t\t\t\t\t\t<span>Your Auctions</span>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n        <nav id=\"navigation\"></nav>\n        </div>\n        );\n    }\n}\nfunction mapStateToProps(state) {\n\tconst { user, categories, query } = state\n    return { user, categories, query }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({ ...userActions, ...productsActions, ...queryActions }, dispatch)\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(NavBar))","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)\r\n\r\nexport default PrivateRoute","import React, { Component } from 'react';\nimport Countdown from './countdown.jsx'\nimport { withRouter } from 'react-router-dom'\n\nclass ProductCard extends Component {\n\n    onProductClickHandler = id => e => {\n        e.preventDefault()\n        this.props.history.push(`/product/${id}`)\n    }\n\n    renderProductInfo(){\n        const { product, user } = this.props\n        let sd = new Date(product.startDate)\n        sd.setDate(sd.getDate() + 7)\n\n        if (product.closed) {\n            //Products closed or Products closed and you've won\n            return (\n                <div className=\"product-label\">\n                    <span className=\"sale\">CLOSED</span>\n                    {user && user._id === product.winningUser ? <span className='new'>YOU WON</span> : <span className='new-hidden'></span>}\n                </div>\n            )\n                \n        } else {\n\n            if (user && user._id === product.currentUser){\n                return (\n                    <div className=\"product-label\">\n                        <Countdown date={product.endDate}/>\n                        <span className='new'>WINING</span>\n                    </div>\n                )\n            }\n\n            return (\n                <div className=\"product-label\">\n                    <Countdown date={product.endDate}/>\n                    {sd > Date.now() ? <span className='new'>NEW</span> : <span className='new-hidden'></span>}\n                </div>\n            )\n        }\n    }\n\n    render() {\n        const { product } = this.props\n        \n        return (\n\n            <div className=\"col-xs-6 col-sm-4 col-md-4 \" key={product._id} onClick={this.onProductClickHandler(product._id)}> \n                <div className=\"product animated fadeIn\">\n                    <div className=\"product-img\">\n                        <img src={product.images[0]} alt=\"\"/>\n                        {this.renderProductInfo()}\n                    </div>\n                    <div className=\"product-body\">\n                        <h3 className=\"product-name\"><a href=\"#\">{product.title}</a></h3>\n                        <h4 className=\"product-price\">{product.currentPrice}</h4>\n                        <div className=\"product-rating\"/>\n                        <button type=\"button\" className={`primary-btn ${ product.closed && 'closed' }`}>Make offer</button>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nexport default withRouter(ProductCard)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from './redux/actions/product'\nimport openSocket from 'socket.io-client'\n\nimport ReactSlick from \"react-slick\"\nimport Countdown from './countdown.jsx'\n\nvar socket\n\nclass Product extends Component {\n    static fetchData({ store, params: { id } }) {\n        return store.dispatch(actions.getProduct(id));\n    }\n\n    state = {\n        bid:0,\n        priceClass:'',\n        bidClass:'',\n        slickImg: null,\n        slickImgs: null,\n        nav1: null,\n        nav2: null,\n        submitted: false,\n    }\n\n    componentDidMount = () => {\n        const { match: { params: { id } }, product: { currentPrice } } = this.props\n\n        //socket = openSocket('http://localhost:5000')\n        socket = openSocket('https://mysterious-basin-61944.herokuapp.com/')\n\n        socket.on('newBid', (productId) => {\n            if (id === productId){\n\n                this.props.getProduct(id)\n                .then(()=>{\n                    this.setState( { bid: Number(this.props.product.currentPrice), priceClass: 'flash' }, () =>{\n                        setTimeout(() => this.setState({priceClass: ''}),1000)\n                    })\n                })\n            }\n        })\n\n        socket.on('error', (error) => {\n            console.log('socket error')\n        })\n\n        this.props.getProduct(id)\n\n        if (currentPrice){\n            console.log('didMount', currentPrice)\n            this.setState({ \n                bid: currentPrice, //when comes from server\n                nav1: this.slider1,\n                nav2: this.slider2\n             })\n        } else {\n            this.setState({ \n                nav1: this.slider1,\n                nav2: this.slider2\n             })\n        }\n    }\n\n    componentDidUpdate = (prevProps) => {\n        const { product: { currentPrice } } = this.props\n\n        if (currentPrice && prevProps.product.currentPrice !== currentPrice) {\n            this.setState({ bid: currentPrice })\n        } \n    } \n\n    componentWillUnmount = () => {\n        socket.close()\n    }\n\n    handleChange = e => {\n        let { name, value } = e.target\n\n        this.setState({ [name]: Math.round(Number(value)) });\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n\n        //TODO check bid\n        const { product, user } = this.props\n\n        if (Object.keys(user).length === 0) {\n\n            this.props.history.push('/login')\n\n        } else {\n\n            const { bid } = this.state\n\n            if (product._id && user._id && bid && bid > product.currentPrice) {\n                this.props.addProductBid(product._id, user._id, bid)\n                .then(() => {\n                    this.props.getProduct(product._id);\n                })\n            }\n            else {\n                //this.setState({ submitted: true })\n                this.setState( { bidClass: 'flash' }, () =>{\n                    setTimeout(() => this.setState({bidClass: ''}),1000)\n                })\n                //TODO: Throw Error Something went wrong\n            }\n\n        }\n\n    }\n\n    render() {\n\n        const { product } = this.props\n        const { priceClass, bidClass, submitted } = this.state\n        const settingsImgs = {\n            slidesToShow: 3,\n            slidesToScroll: 1,\n            arrows: true,\n            centerMode: true,\n            focusOnSelect: true,\n            centerPadding: 0,\n            vertical: true,\n            asNavFor: this.state.nav1,\n            ref: slider => (this.slider2 = slider)\n        }\n        const settingsImg = {\n            infinite: true,\n            speed: 300,\n            dots: false,\n            arrows: true,\n            fade: true,\n            asNavFor: this.state.nav2,\n            ref: slider => (this.slider1 = slider)\n        }\n\n        return (\n\n        <div className=\"section\">\n            <div className=\"container\">\n            <div className=\"row\">\n\n                {product.images && product.images.length && (\n                    <div>\n                        <div id='product-main-img' className=\"product-preview col-md-5 col-md-push-2\">\n\n                            <ReactSlick {...settingsImg} >\n                                {product.images.map((image, index) => {\n                                    return (\n                                        <img key={index} src={image} alt=''/>\n                                    )\n                                })}\n                            </ReactSlick>\n                        </div>\n\n                        <div id='product-imgs' className=\"col-md-2  col-md-pull-5 hidden-xs\">\n                            <ReactSlick  {...settingsImgs} >\n                                {product.images.map((image, index) => {\n                                    return (\n                                        <img key={index} src={image} alt=''/>\n                                    )\n                                })}\n                            </ReactSlick>\n                        </div>\n                    </div>\n                )}\n                <div className=\"col-md-5\">\n                <div className=\"product-details\">\n                    <h2 className=\"product-name\">{product.title}</h2>\n                    <div>\n                    <h3 className={`product-price animated ${priceClass}`}>{product.currentPrice} </h3>\n                    <span className=\"product-available\">{product.closed ? 'Closed' : product.endDate && <Countdown date={product.endDate}/>}</span>\n                    </div>\n                    <p>{product.description}</p>\n\n                    {!product.closed &&\n                        <div className=\"add-to-cart\" >\n                            <div className=\"qty-label\">\n                                <span className={`animated ${bidClass}`}>Enter your bid</span>  \n                                <div className=\"input-number\">\n                                    <input type=\"number\" name='bid' value={this.state.bid} onChange={this.handleChange} />\n                                <span className=\"qty-up\" onClick={() => this.setState({ bid:this.state.bid +10 })} >+</span>\n                                <span className=\"qty-down\" onClick={() => this.state.bid > product.currentPrice && this.setState({ bid:this.state.bid -10 })} >-</span>\n                                </div>\n                            </div>\n                            <button  onClick={this.handleSubmit} className=\"add-to-cart-btn\"><i className=\"fa fa-shopping-cart\" /> Submit bid</button>\n                        </div>\n                    }\n\n\n                    <ul className=\"product-links\">\n                    <li>Share:</li>\n                    <li><a href=\"#\"><i className=\"fab fa-facebook\" /></a></li>\n                    <li><a href=\"#\"><i className=\"fab fa-twitter\" /></a></li>\n                    <li><a href=\"#\"><i className=\"fab fa-google-plus\" /></a></li>\n                    <li><a href=\"#\"><i className=\"far fa-envelope\" /></a></li>\n                    </ul>\n                </div>\n                </div>\n            </div>\n            </div>\n        </div>\n        )\n    }}\n\nfunction mapStateToProps(state) {\n    const { product, user } = state\n    return { product, user }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Product);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\n\nimport { userActions } from './redux/actions/user'\n\nclass Profile extends Component {\n\n    componentDidMount(){\n        this.props.retrieveUser()\n    }\n\n    render() {\n        const { name, surname, email, password } = this.props.user\n        return (\n            <div>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>HotAuctions - User Profile</title>\n                </Helmet>\n\n                <div className=\"section\">\n\n                    <div className=\"container\">\n\n                        <div className=\"row\">\n\n                            <div className=\"col-md-6 col-md-offset-3 pt-2\">\n\n                                <div className=\"section-title\">\n                                    <h3 className=\"title\">Profile</h3>\n                                </div>\n\n                                <form name=\"form\" onSubmit={this.handleSubmit}>\n                                    <div className='form-group'>\n                                        <input type=\"text\" className=\"form-control\" name=\"name\"  placeholder=\"Name\" value={name} onChange={this.handleChange} />\n                                    </div>\n                                    <div className='form-group'>\n                                        <input type=\"text\" className=\"form-control\" name=\"surname\"  placeholder=\"Surname\" value={surname} onChange={this.handleChange} />\n                                    </div>\n                                    <div className='form-group'>\n                                        <input type=\"text\" className=\"form-control\" name=\"email\"  placeholder=\"Email\" value={email} onChange={this.handleChange} />\n                                    </div>\n                                    <div className='form-group'>\n                                        <input type=\"password\" className=\"form-control\" name=\"password\"  placeholder=\"Password\" value={password} onChange={this.handleChange} />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <button className=\"primary-btn\">Save</button>\n                                        <Link to=\"/login\" className=\"btn btn-link\">Logout</Link>\n                                    </div>\n                                </form>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n            </div>\n        );\n    }\n}\nfunction mapStateToProps(state) {\n\tconst { user } = state\n    return {\n        user\n    }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(userActions, dispatch);\n}\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Profile);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst RedirectWithStatus = ({ key, from, to, status }) => (\n    <Route render={({ staticContext }) => {\n        // there is no `staticContext` on the client, so\n        // we need to guard against that here\n        if (staticContext)\n            staticContext.status = status\n        return <Redirect key={key} from={from} to={to} />\n    }} />\n)\nexport default RedirectWithStatus;","import { alertConstants } from '../constants';\n\nexport const alertActions = {\n    success,\n    error,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    console.log('error message', message);\n    \n    return { type: alertConstants.ERROR, message };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}","'use strict'\n\nimport { Types } from '../constants'\nimport logic from '../../../logic'\n\nexport function getCategories() {\n    return async function (dispatch, getState) {\n        const _categories = await logic.listCategories()\n\n        const categories = _categories.map(category => {\n            category.checked = localStorage.getItem(category._id) === 'true'? true : false\n            return category\n        })\n        \n        dispatch({ type: Types.UPDATE_CATEGORIES, categories })\n    }\n}","'use strict'\n\nimport { Types } from '../constants';\nimport logic from '../../../logic'\n\nexport function getProduct(id) {\n    return async function (dispatch, getState) {\n        const data  = await logic.retrieveProduct(id)\n        dispatch({ type: Types.UPDATE_PRODUCT, payload: data })\n    }\n}\n\nexport function addProductBid(productId, userId, bid) {\n    return async function (dispatch, getState) {\n        const data  = await logic.addProductBid(productId, userId, bid)\n        dispatch({ type: Types.ADD_PRODUCT_BID, payload: data })\n    }\n}","'use strict'\n\nimport { Types } from '../constants'\nimport logic from '../../../logic'\n\nexport function getProducts(query, categories, prices) {\n    return async function (dispatch, getState) {\n        const products = await logic.listProducts(query, categories, prices)\n        dispatch({ type: Types.UPDATE_PRODUCTS, products })\n    }\n}\n\n","'use strict'\n\nimport { Types } from '../constants'\n\nexport function setQuery(query) {\n    return async function (dispatch, getState) {\n        dispatch({ type: Types.UPDATE_QUERY, query })\n    }\n}\n","'use strict'\n\nimport { Types } from '../constants';\nimport logic from '../../../logic'\nimport { alertActions } from './alert';\n\nexport const userActions = {\n    login,\n    logout,\n    retrieveUser,\n    register\n}\n\nfunction login(username, password, history) {\n    return dispatch => {\n\n        logic.login(username, password)\n            .then(user => {\n                dispatch({ type: Types.UPDATE_USER, payload: user })\n                history.push('/')\n            }\n            ).catch(error => {\n                dispatch(alertActions.error(error.message))\n            })\n    }\n}\n\nfunction logout() {\n    return dispatch => {\n\n        logic.logout()\n            .then(()=> {\n                dispatch({ type: Types.UPDATE_USER, payload: {} })\n            })\n            .catch(error => {\n                dispatch(alertActions.error(error))\n            })\n    }\n}\n\nfunction retrieveUser() {\n    return dispatch => {\n        \n        logic.retrieveUser()\n            .then(user => {\n                dispatch({ type: Types.UPDATE_USER, payload: user })\n            })\n            .catch(error => {\n                logic.logout()\n                dispatch(alertActions.error(error))\n            })\n    }\n}\n\nfunction register(name, surname, email, password, history) {\n    return dispatch => {\n\n        logic.register(name, surname, email,  password)\n            .then(() => { \n                history.push('/login');\n                dispatch(alertActions.success('Registration successful'));\n            })\n            .catch(error => {\n                dispatch(alertActions.error(error.message));\n            })\n    };\n}","'use strict'\n\nimport { Types } from '../constants'\nimport logic from '../../../logic'\n\nexport function getUserProducts() {\n    return async function (dispatch, getState) {\n        const products = await logic.listUserProducts()\n        dispatch({ type: Types.UPDATE_USER_PRODUCTS, products })\n    }\n}","'use strict'\n\nexport const Types = {\n    UPDATE_PRODUCT:'UPDATE_PRODUCT',\n    ADD_PRODUCT_BID: 'ADD_PRODUCT_BID',\n    UPDATE_PRODUCTS:'UPDATE_PRODUCTS',\n    UPDATE_USER_PRODUCTS: 'UPDATE_USER_PRODUCTS',\n    UPDATE_CATEGORIES: 'UPDATE_CATEGORIES',\n    UPDATE_NAME:'UPDATE_NAME',\n    UPDATE_USER: 'UPDATE_USER',\n    UPDATE_QUERY: 'UPDATE_QUERY'\n};\n\nexport const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    CLEAR: 'ALERT_CLEAR'\n};","'use strict'\n\nconst customMiddleware = store => next => action => {\n    return isFunction(action) ? action(store.dispatch, store.getState): next(action);\n}\nconst isFunction = (action) => {\n    return typeof action === 'function';\n}\nexport default customMiddleware;","import { alertConstants } from '../constants';\n\nexport default function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state\n  }\n}","'use strict'\n\nimport { Types } from '../constants';\n\nconst initialState = []\n\nexport default function products(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_CATEGORIES:\n            return action.categories\n        default:\n            return state;\n    }\n}","'use strict'\n\nimport { combineReducers } from 'redux'\n\nimport products from './products'\nimport categories from './categories'\nimport product from './product'\nimport userProducts from './userProducts'\nimport user from './user'\nimport alert from './alert'\nimport query from './query'\n\nconst reducers = combineReducers({\n    products,\n    userProducts,\n    categories,\n    product,\n    user,\n    alert,\n    query,\n})\n\nexport default reducers\n","'use strict'\n\nimport { Types } from '../constants';\n\nconst initialState = {}\n\nexport default function product(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_PRODUCT:\n            return action.payload\n        case Types.ADD_PRODUCT_BID:\n            return action.payload\n        default:\n            return state\n    }\n}","'use strict'\n\nimport { Types } from '../constants'\n\nconst initialState = {\n    products:[]\n}\n\nexport default function products(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_PRODUCTS:\n            return action.products\n        default:\n            return state\n    }\n}\n\n","'use strict'\n\nimport { Types } from '../constants';\n\nconst initialState = ''\n\nexport default function query(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_QUERY:\n            return action.query\n        default:\n            return state;\n    }\n}","'use strict'\n\nimport { Types } from '../constants'\n\nconst initialState = {}\n\nexport default function user(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_USER:\n            return action.payload\n        default:\n            return state;\n    }\n}","'use strict'\n\nimport { Types } from '../constants'\n\nconst initialState = {\n    products:[]\n}\n\nexport default function userProducts(state = initialState, action) {\n    switch (action.type) {\n        case Types.UPDATE_USER_PRODUCTS:\n            return action.products\n        default:\n            return state\n    }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport { userActions } from './redux/actions/user';\nimport { Helmet } from 'react-helmet';\n\n\nclass Register extends Component {\n\n    state = {\n        name:'',\n        surname: '',\n        email: '',\n        password: '',\n        repeatpassword: '',\n        submitted: false\n    };\n\n    handleChange = e => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        this.setState({ submitted: true });\n        const { name, surname, email, password, repeatpassword } = this.state;\n        if (name && surname && email && password && (password === repeatpassword)) {\n            this.props.register(name, surname, email, password, this.props.history)\n        }\n    }\n\n    render() {\n        const { name, surname, email, password, repeatpassword, submitted, alert } = this.state;\n        console.log('alert', alert)\n        return (\n        <div>\n            <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>HotAuctions - Register</title>\n            </Helmet>\n\n\t\t    <div className=\"section\">\n\n            \t<div className=\"container\">\n\n                \t<div className=\"row\">\n\n                        {alert && alert.message &&\n                            <div className={`alert ${alert.type}`}>{alert.message}</div>\n                        }\n\n                        <div className=\"col-md-6 col-md-offset-3 pt-2\">\n\n                            <div className=\"section-title\">\n                                <h3 className=\"title\">Register</h3>\n                            </div>\n\n                            <form name=\"form\" onSubmit={this.handleSubmit}>\n                            \n                                <div className={'form-group' + (submitted && !name ? ' has-error' : '')}>\n                                    <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"First Name\" value={name} onChange={this.handleChange} />\n                                    {submitted && !name &&\n                                        <div className=\"help-block\">Name is required</div>\n                                    }\n                                </div>\n                                <div className={'form-group' + (submitted && !surname ? ' has-error' : '')}>\n                                    <input type=\"text\" className=\"form-control\" name=\"surname\" placeholder=\"Last Name\" value={surname} onChange={this.handleChange} />\n                                    {submitted && !surname &&\n                                        <div className=\"help-block\">Surname is required</div>\n                                    }\n                                </div>\n                                <div className={'form-group' + (submitted && !email ? ' has-error' : '')}>\n                                    <input type=\"text\" className=\"form-control\" name=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} />\n                                    {submitted && !email &&\n                                        <div className=\"help-block\">Email is required</div>\n                                    }\n                                </div>\n                                <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n                                    <input type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} />\n                                    {submitted && !password &&\n                                        <div className=\"help-block\">Password is required</div>\n                                    }\n                                </div>\n                                <div className={'form-group' + (submitted && !repeatpassword || password !== repeatpassword ? ' has-error' : '')}>\n                                    <input type=\"password\" className=\"form-control\" name=\"repeatpassword\" placeholder=\"Repeat Password\" value={repeatpassword} onChange={this.handleChange} />\n                                    {submitted && (!repeatpassword || password !== repeatpassword) &&\n                                        <div className=\"help-block\">Repeat password is required or does not match</div>\n                                    }\n                                </div>\n                                <div className=\"form-group\">\n                                    <button className=\"primary-btn\">Register</button>\n                                    <Link to=\"/login\" className=\"btn btn-link\">login</Link>\n                                </div>\n                            </form>\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n            </div>\n        </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { alert } = state\n    return { alert } \n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(userActions, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Register)","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Nouislider from 'react-nouislider'\n\nclass Slider extends Component {\n    \n    state = {\n        range: [0, 3000],\n        priceMin: 0,\n        priceMax: 3000,\n    }\n\n    componentDidMount(){\n\n        const { range } = this.state\n\n        const params = new URLSearchParams(this.props.location.search)\n        const prices = params.get('p') ? params.get('p').split(',').map(price => Number(price)) : [] \n\n        prices[0] > range[0] ? localStorage.setItem('priceMin', prices[0]) : localStorage.removeItem('priceMin')\n        prices[1] < range[1] ? localStorage.setItem('priceMax', prices[1]) : localStorage.removeItem('priceMax')\n        \n        const priceMin = Number(localStorage.getItem('priceMin'))\n        const priceMax = Number(localStorage.getItem('priceMax'))\n\n        priceMin && this.setState({ priceMin })\n        priceMax && this.setState({ priceMax })\n\n    }\n\n    componentDidUpdate(){\n\n        const { range, priceMin, priceMax } = this.state\n\n        priceMin > range[0] ? localStorage.setItem('priceMin', priceMin) : localStorage.removeItem('priceMin')\n        priceMax < range[1] ? localStorage.setItem('priceMax', priceMax) : localStorage.removeItem('priceMax')\n\n    }\n\n\n    handleChange = e => {\n\n        let { name, value } = e.target;\n        const { range } = this.state\n\n        name === 'priceMin' && value > range[1] && (value = range[1])\n        name === 'priceMin' && value < range[0] && (value = range[0])\n        name === 'priceMax' && value > range[1] && (value = range[1])\n        name === 'priceMax' && value < range[0] && (value = range[0])\n\n        this.setState({ [name]: Math.round(value) });\n\n    }\n\n\n    render() {\n        \n        return (\n            <div className=\"aside\">\n                <h3 className=\"aside-title\">Price</h3>\n                <div className=\"price-filter\">\n\n                    <div id=\"price-slider\">\n                        <Nouislider range={{ min: this.state.range[0], max: this.state.range[1] }} start={[this.state.priceMin, this.state.priceMax]} connect={true} \n                            onChange={(values) =>  {\n                                this.setState({ priceMin: Math.round(values[0]), priceMax: Math.round(values[1]) })\n                            } } />\n                    </div>\n\n                    <div className=\"input-number price-min\">\n                        <input id=\"price-min\" type=\"number\" name='priceMin' value={this.state.priceMin} onChange={this.handleChange}/>\n                        <span className=\"qty-up\" onClick={() => this.state.priceMin < this.state.range[1] && this.setState({ priceMin:this.state.priceMin +10 })}>+</span>\n                        <span className=\"qty-down\" onClick={() => this.state.priceMin > this.state.range[0] && this.setState({ priceMin:this.state.priceMin -10 })}>-</span>\n                    </div>\n\n                    <span></span>\n\n                    <div className=\"input-number price-max\">\n                        <input id=\"price-max\" type=\"number\" name='priceMax' value={this.state.priceMax} onChange={this.handleChange}/>\n                        <span className=\"qty-up\" onClick={() => this.state.priceMax < this.state.range[1] && this.setState({ priceMax:this.state.priceMax +10 })}>+</span>\n                        <span className=\"qty-down\" onClick={() => this.state.priceMax > this.state.range[0] && this.setState({ priceMax:this.state.priceMax -10 })}>-</span>\n                    </div>\n\n                </div>\n            </div>\n\n        )\n    }\n}\n\n\nexport default withRouter(Slider)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from './redux/actions/userProducts'\nimport openSocket from 'socket.io-client'\nimport { Helmet } from 'react-helmet';\n\nimport ProductCard from './product-card.jsx'\n\nvar socket\n\nclass UserProducts extends Component {\n    \n    componentDidMount() {\n        this.props.getUserProducts()\n\n        //socket = openSocket('http://localhost:5000')\n        socket = openSocket('https://mysterious-basin-61944.herokuapp.com/')\n\n        socket.on('newBid', (productId) => {\n            //TODO: Check if product is in the list\n            this.props.getUserProducts()\n        })\n    }\n\n    componentWillUnmount = () => {\n        socket.close()\n    }\n\n    render() {\n    const { userProducts, user } = this.props\n\n    return (\n        <div>\n            <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>HotAuctions - Your Auctions</title>\n            </Helmet>\n            {/* --- SECTION --- */}\n            <section className=\"section\">\n                <div className=\"container\">\n\n                    {/* --- STORE --- */}\n                    <div id=\"store\" className=\"col-md-12\">\n                        <div className=\"row\">\n                            { userProducts.length ? userProducts.map((product) => {\n                                return <ProductCard key={product._id} product={product} user={user} />\n                            }): <span>no results</span>}\n                        </div>\n                    </div>\n\n                </div>\n            </section>\n        </div>\n    )}\n}\n\nfunction mapStateToProps(state) {\n    const { userProducts, user } = state\n    return { userProducts, user }\n}\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(UserProducts)","export default function (url, parameters){\n    var qs = \"\";\n    for(var key in parameters) {\n      var value = parameters[key];\n      qs += encodeURIComponent(key) + \"=\" + encodeURIComponent(value) + \"&\";\n    }\n    if (qs.length > 0){\n      qs = qs.substring(0, qs.length-1); //chop off last \"&\"\n      url = url + \"?\" + qs;\n    }\n    return url;\n  }","'use strict'\nimport buildUrls from './buildUrl'\n\nexport function search(query, categories) {\n\n\tconst cat = categories.filter(category => category.checked).map(category => category._id)\n\tconst priceMin = Number(localStorage.getItem('priceMin'))\n\tconst priceMax = Number(localStorage.getItem('priceMax'))\n\t\n\tlet range = []\n\n\tif (priceMin || priceMax) {\n\t\trange[0] = priceMin || 0\n\t\trange[1] = priceMax || 0\n\t}\n\n\tconst parameters = {}\n\t\n\tif (query.length) parameters.q = query\n\tif (cat.length) parameters.c = cat.join()\n\tif (range.length) parameters.p = range.join()\n\n\tconst url =  buildUrls('/', parameters)\n\n\treturn url\n\n}\n","'use strict'\n\nconst auctionApi = require('api')\n\n//auctionApi.url = 'http://localhost:5000/api'\nauctionApi.url = 'https://mysterious-basin-61944.herokuapp.com/api'\n\nconst logic = {\n\n    /**\n     * Saves the logged user's info. Must be overrided in App.\n     * @param {Object<User>} user - User object like { email: 'email02@email.com', password: '123', name: 'Chas', surname: 'Keaveny', role: 'customer' }\n     */\n    user(user) {\n        if (user) {\n            this._user = user\n\n            return\n        }\n\n        return this._user\n    },\n\n    /**\n     * Retrieve a list of products with the search and filter criteria.\n     * @param {string} query - Search criteria string\n     * @param {Array<string>} categories - Array of category id to filter\n     * @param {Array<string>} prices - Range of prices to filter [min, max]\n     */\n    listProducts(query, categories, prices){\n        return auctionApi.listProducts(query, categories, prices)\n    },\n\n    /**\n     * Retrieve the user's bid list. Use the user stored in this logic.\n     *  @returns {Promise<[Product]>} - Array of product objects\n     */\n    listUserProducts(){\n        const user = this.user()\n\n        if (user === null){\n            return auctionApi.retrieveUser()\n        }\n\n        return auctionApi.listUserProducts(user._id)\n    },\n\n    /**\n     * Retrieve a product with a given id\n     * @param {string} productId - id of product to retrive\n     * @returns {Promise<Product>} - Product object\n     */\n    retrieveProduct(productId){\n        return auctionApi.retrieveProduct(productId)\n    },\n\n    /**\n     * Save a bid for a given product\n     * @param {string} productId - id of bidding product \n     * @param {string} userId - id of bidding user. Must be logged\n     * @param {number} price - the bid price\n     * @returns {Promise<string>} - Bid id string\n     */\n    addProductBid(productId, userId, price){\n        return auctionApi.addProductBid(productId, userId, price)\n    },\n\n    /**\n     * Retrieve a list of product categories available. It is used to filter the products.\n     * @returns {Promise<[Category]>} - Array of categories\n     */\n    listCategories(){\n        return auctionApi.listCategories()\n    },\n\n    /**\n     * Authenticate the user and log in saving the user info in this logic.\n     * @param {string} username - The username to log in. Email of the user.\n     * @param {string} password - User's password.\n     *  @returns {Object<User>}} - User object.\n     */\n    login(username, password) {\n        return auctionApi.authenticateUser(username, password)\n            .then(user => {\n                // login successful if there's a jwt token in the response\n                if (user.token) {\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\n                    this.user(user)\n                    //localStorage.setItem('user', JSON.stringify(user));\n                }\n\n                return user;\n            })\n            .catch(error => {\n                this.logout();\n                return Promise.reject(error);\n            })\n    },\n\n    /**\n     * Set user info saved in this logic to null\n     * @returns {Objec<User>}\n     */\n    logout(){\n        return Promise.resolve()\n        .then(()=> {\n            this.user(null)\n        })\n    },\n\n    /**\n     * Retrieves the user info.\n     * @returns {Object<User>} - User's object\n     */\n    retrieveUser(){\n        const user = this.user()\n\n        if (user === null){\n            return auctionApi.retrieveUser()\n        }\n        \n        return auctionApi.retrieveUser(user._id)\n    },\n\n    /**\n     * Register a user with the data provided.\n     * @param {string} name \n     * @param {string} surname \n     * @param {string} email \n     * @param {string} password \n     * @returns {Promise<boolean>}\n     */\n    register(name, surname, email,  password){\n        return auctionApi.registerUser(name, surname, email,  password)\n            .then(() => {\n                return true;\n            })\n            .catch(error => {\n                return Promise.reject(error);\n            })\n    },\n\n}\n\nmodule.exports = logic","import Profile from '../app/profile.jsx'\nimport Landing from '../app/landing.jsx'\nimport UserProducts from '../app/user-products.jsx'\nimport Product from '../app/product.jsx'\nimport Login from '../app/login.jsx'\nimport Register from '../app/register.jsx'\n\nexport default {\n    routes: [\n        {\n            path: '/',\n            component: Landing,\n            exact: true\n        },\n        {\n            path: '/product/:id',\n            component: Product,\n            exact: true\n        },\n        {\n            path: '/login',\n            component: Login,\n            exact: true\n        },\n        {\n            path: '/register',\n            component: Register,\n            exact: true\n        }\n    ],\n    privateRoutes: [\n        {\n            path: '/profile',\n            component: Profile,\n            exact: true\n        },\n        {\n            path: '/user/products',\n            component: UserProducts,\n            exact: true\n        },\n    ],\n    redirects: [\n        {\n            from: '/people',\n            to: '/profile',\n            status: 301\n        }\n    ]\n} ","module.exports = require(\"api\");","module.exports = require(\"express\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-helmet\");","module.exports = require(\"react-nouislider\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-slick\");","module.exports = require(\"redux\");","module.exports = require(\"socket.io-client\");"],"sourceRoot":""}